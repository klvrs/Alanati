
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="author" content="klvrs" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>à°…à°²à°¨à°¾à°Ÿà°¿ | E-Commerce</title>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Great+Vibes&display=swap" rel="stylesheet">
  <style>
    :root {
      --vintage-bg: #f5f0e1;
      --vintage-brown: #5c3a21;
      --vintage-gold: #c9a66b;
      --font-title: 'Cinzel', serif;
      --font-script: 'Great Vibes', cursive;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: var(--font-title);
      background-color: var(--vintage-bg);
      color: var(--vintage-brown);
      background-image: url('https://img.freepik.com/premium-photo/parchment-texture-background_693838-849.jpg?w=740');
      background-size: cover;
      background-repeat: no-repeat;
      background-attachment: fixed;
      background-position: center;
      line-height: 1.6;
    }

    header {
      background-color: var(--vintage-brown);
      color: white;
      padding: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 2rem;
      letter-spacing: 2px;
    }

    nav {
      background-color: var(--vintage-gold);
      display: flex;
      justify-content: space-around;
      padding: 0.5rem;
    }

    nav a {
      color: #fff;
      text-decoration: none;
      font-weight: bold;
    }

    .hero {
      background-image: url('https://images.unsplash.com/photo-1583337130417-3346a1e3d884');
      background-size: cover;
      background-position: center;
      height: 50vh;
      display: flex;
      justify-content: center;
      align-items: center;
      color: white;
      text-shadow: 2px 2px 4px #000;
    }

    .hero h1 {
      font-size: 3rem;
      font-family: var(--font-script);
    }

    .products {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
      padding: 2rem;
    }

    .product-card {
      background-color: #fffaf3;
      border: 2px solid var(--vintage-gold);
      padding: 1rem;
      text-align: center;
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }

    .product-card img {
      max-width: 100%;
      border-radius: 8px;
    }

    .product-card h3 {
      margin: 0.5rem 0;
    }

    .product-card button {
      background-color: var(--vintage-brown);
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      margin-top: 0.5rem;
      cursor: pointer;
      font-family: var(--font-title);
      border-radius: 5px;
    }

    .footer {
      background-color: var(--vintage-brown);
      color: white;
      text-align: center;
      padding: 1rem;
      font-size: 0.9rem;
    }

    #cart-count {
      background: var(--vintage-gold);
      color: white;
      border-radius: 50%;
      padding: 0 8px;
      margin-left: 5px;
      font-size: 0.9rem;
    }

    .qty-label {
      margin-left: 10px;
      font-weight: bold;
      color: var(--vintage-brown);
    }
  </style>
</head>
<body>
<header>
 à°…à°²à°¨à°¾à°Ÿà°¿
</header>

<nav>
  <a href="#">Home</a>
  <a href="#products">Products</a>
  <a href="cart.html">Cart</a>
    <div style="display: flex; align-items: center; gap: 1rem;">
    <div><a href="cart.html" style="color:white; text-decoration:none;">ðŸ›’ <span id="cart-count">0</span></a></div>
    <div id="user-section" style="display: flex; align-items: center; gap: 0.5rem;">
      <img src="https://cdn-icons-png.flaticon.com/512/1144/1144760.png" alt="User" width="30" height="30" />
      <span id="user-name" style="font-size: 1rem;"></span>
    </div>
  </div>
</nav>

<div class="hero">
  <h1>Step into the Past with Every Gift</h1>
</div>

<section id="products" class="products"></section>

<footer class="footer">
  &copy; 2025 ALANATI India | Crafted with nostalgia by klvrs
</footer>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-app.js";
  import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyAi7lEBt3jcw-TKaPf6k1azwDfghl6jWMo",
    authDomain: "login-page-8560e.firebaseapp.com",
    projectId: "login-page-8560e",
    appId: "1:201520027907:web:9d3487a492869495557136",
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  const userNameSpan = document.getElementById("user-name");
  const cartCountSpan = document.getElementById("cart-count");
  const products = [
    {
      id: 1,
      name: "Vintage Gift Box",
      price: 1200,
      image: "https://m.media-amazon.com/images/I/71UeTmoDzWL._AC_SS450_.jpg",
      description: "Handcrafted with love and nostalgia."
    },
    {
      id: 2,
      name: "Ancient Letter Scroll",
      price: 800,
      image: "https://img.freepik.com/premium-photo/vintage-creative-vector-2d-paper-layout-with-watercolor-textures-old-vintage-style-design_655090-201457.jpg",
      description: "Perfect for heartfelt messages."
    },
    {
      id: 3,
      name: "Scented Candle",
      price: 900,
      image: "https://th.bing.com/th/id/R.7419daec8633d12774498fd990ebf894?rik=f%2fwKGofLRKTdaQ&riu=http%3a%2f%2fspecialyou.in%2fcdn%2fshop%2ffiles%2f71C5TVc-EmL._SL1500.jpg%3fv%3d1736837019%26width%3d2048&ehk=ELD4rdS7YAcRFZJIWpRrmKVjomYCyfTqyJ%2fVFbab5s4%3d&risl=&pid=ImgRaw&r=0",
      description: "Soothing aroma with vintage packaging."
    },
    {
      id: 4,
      name: "Classic Ink Pen",
      price: 500,
      image: "https://th.bing.com/th/id/R.2aa7e3a168a40e0cb08884ed8f363071?rik=hQk6s4gyEs5qBQ&riu=http%3a%2f%2fmedia-cache-ak0.pinimg.com%2f736x%2f72%2fe6%2f8b%2f72e68b7f249d3a664493b8f1bdc467a3.jpg&ehk=U6FXid9hjf%2f6iHCtkJ6t5j1I4i60CEIKiMbq%2bmre0%2fo%3d&risl=&pid=ImgRaw&r=0",
      description: "Relive the art of writing."
    }
  ];

   const productContainer = document.getElementById("products");
  let cart = JSON.parse(localStorage.getItem("cart")) || [];

  const renderProducts = () => {
    productContainer.innerHTML = "";
    products.forEach(p => {
      const item = document.createElement("div");
      item.className = "product-card";
      const existing = cart.find(ci => ci.id === p.id);
      const qty = existing ? existing.qty : 0;
     item.innerHTML = `
  <img src="${p.image}" alt="${p.name}" />
  <h3>${p.name}</h3>
  <p>${p.description}</p>
  <p><strong>â‚¹${p.price}</strong></p>
  <div id="cart-actions-${p.id}">
    ${qty > 0
      ? `
        <button onclick="decreaseQty(${p.id})">âž–</button>
        <span style="margin: 0 10px;">${qty}</span>
        <button onclick="addToCart(${p.id})">âž•</button>
      `
      : `<button onclick="addToCart(${p.id})">Add to Cart</button>`
    }
  </div>
`;
productContainer.appendChild(item);
     
    });
  };

  window.addToCart = function (id) {
    onAuthStateChanged(auth, (user) => {
      if (!user) return window.location.href = "login.html";
      const existing = cart.find(item => item.id === id);
      if (existing) {
        existing.qty += 1;
      } else {
        const prod = products.find(p => p.id === id);
       cart.push({ id, name: prod.name, price: prod.price, qty: 1 });

      }
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartCount();
      updateCartUI(id);
    });
  };
 window.decreaseQty = function (id) {
  const index = cart.findIndex(item => item.id === id);
  if (index > -1) {
    cart[index].qty -= 1;
    if (cart[index].qty <= 0) {
      cart.splice(index, 1); // Remove item if qty is 0
    }
    localStorage.setItem('cart', JSON.stringify(cart));
    updateCartCount();
    updateCartUI(id);
  }
}
function updateCartUI(id) {
  const actionDiv = document.getElementById(`cart-actions-${id}`);
  const item = cart.find(i => i.id === id);

  if (!item) {
    actionDiv.innerHTML = `<button onclick="addToCart(${id})">Add to Cart</button>`;
    return;
  }

  actionDiv.innerHTML = `
    <button onclick="decreaseQty(${id})">âž–</button>
    <span style="margin: 0 10px;">${item.qty}</span>
    <button onclick="addToCart(${id})">âž•</button>
  `;
}

  const updateCartCount = () => {
    const totalQty = cart.reduce((sum, item) => sum + item.qty, 0);
    cartCountSpan.textContent = totalQty;
  };

  renderProducts();
  updateCartCount();

  onAuthStateChanged(auth, (user) => {
    if (user) {
      userNameSpan.textContent = user.displayName || user.email;
    } else {
      userNameSpan.innerHTML = `<a href="login.html" style="color: white; text-decoration: underline;">Login</a>`;
    }
  });
</script>
</body>
</html>


